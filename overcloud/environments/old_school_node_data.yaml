parameter_defaults:

  swap_size_megabytes: 8192

  # Controller
  ControllerCount: 1
  OvercloudControllerFlavor: control-leaf1
  ControllerControlPlaneSubnet: ctlplane-leaf1

  # Compute
  ComputeCount: 1
  OvercloudComputeFlavor: compute-leaf1
  ComputeControlPlaneSubnet: ctlplane-leaf1

  # Compute2
  Compute2Count: 1
  OvercloudCompute2Flavor: compute-leaf2
  Compute2ControlPlaneSubnet: ctlplane-leaf2
 
  Compute2ExtraConfig:
    nova::compute::libvirt::vncserver_listen: "%{hiera('internal_api2')}"
    nova::compute::vncserver_proxyclient_address: "%{hiera('internal_api2')}"
    neutron::agents::ml2::ovs::local_ip: "%{hiera('tenant2')}"
    cold_migration_ssh_inbound_addr: "%{hiera('internal_api2')}"
    live_migration_ssh_inbound_addr: "%{hiera('internal_api2')}"
    nova::migration::libvirt::live_migration_inbound_addr: "%{hiera('internal_api2')}"
    nova::my_ip: "%{hiera('internal_api2')}"

  ServiceNetMap:
    Compute2HostnameResolveNetwork: internal_api2

